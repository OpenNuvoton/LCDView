!function(){"use strict";var e={3920:function(e,t,n){n.r(t),n.d(t,{ADI:function(){return T},CmsisDAP:function(){return C},CortexM:function(){return _},DAPLink:function(){return S},DEFAULT_CLOCK_FREQUENCY:function(){return g},DEFAULT_OUTOUT_VOLTAGE:function(){return x},FPBCtrlMask:function(){return b},HID:function(){return D},NuLink:function(){return U},NuMicro:function(){return R},NuMicro51:function(){return O},NuMicroCM:function(){return L},USB:function(){return N},WebUSB:function(){return I}});n(8304),n(8011),n(1539),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(8309),n(489),n(7941),n(7556),n(2564),n(9575),n(2472),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(8255),n(7042),n(6716),n(9135),n(9554),n(4747),n(4953),n(4916),n(4723),n(5306),n(9841),n(2388),n(1249),n(3123),n(2222),n(561),n(7327),n(9826);var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function a(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}u((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function a(){}function u(){u.init.call(this)}function c(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function h(e,t,n){if(t)e.call(n);else for(var r=e.length,i=y(e,r),s=0;s<r;++s)i[s].call(n)}function f(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,s=y(e,i),o=0;o<i;++o)s[o].call(n,r)}function d(e,t,n,r,i){if(t)e.call(n,r,i);else for(var s=e.length,o=y(e,s),a=0;a<s;++a)o[a].call(n,r,i)}function l(e,t,n,r,i,s){if(t)e.call(n,r,i,s);else for(var o=e.length,a=y(e,o),u=0;u<o;++u)a[u].call(n,r,i,s)}function p(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,s=y(e,i),o=0;o<i;++o)s[o].apply(n,r)}function v(e,t,n,r){var i,s,o,u;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((s=e._events)?(s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]):(s=e._events=new a,e._eventsCount=0),o){if("function"==typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=c(e))&&i>0&&o.length>i){o.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=e,h.type=t,h.count=o.length,u=h,"function"==typeof console.warn?console.warn(u):console.log(u)}}else o=s[t]=n,++e._eventsCount;return e}function w(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function m(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function y(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}a.prototype=Object.create(null),u.EventEmitter=u,u.usingDomains=!1,u.prototype.domain=void 0,u.prototype._events=void 0,u.prototype._maxListeners=void 0,u.defaultMaxListeners=10,u.init=function(){this.domain=null,u.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new a,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return c(this)},u.prototype.emit=function(e){var t,n,r,i,s,o,a,u="error"===e;if(o=this._events)u=u&&null==o.error;else if(!u)return!1;if(a=this.domain,u){if(t=arguments[1],!a){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=a,t.domainThrown=!1,a.emit("error",t),!1}if(!(n=o[e]))return!1;var v="function"==typeof n;switch(r=arguments.length){case 1:h(n,v,this);break;case 2:f(n,v,this,arguments[1]);break;case 3:d(n,v,this,arguments[1],arguments[2]);break;case 4:l(n,v,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),s=1;s<r;s++)i[s-1]=arguments[s];p(n,v,this,i)}return!0},u.prototype.addListener=function(e,t){return v(this,e,t,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(e,t){return v(this,e,t,!0)},u.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,w(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,w(this,e,t)),this},u.prototype.removeListener=function(e,t){var n,r,i,s,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0==--this._eventsCount?this._events=new a:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new a,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,o||t)}return this},u.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new a,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new a:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),s=0;s<i.length;++s)"removeListener"!==(r=i[s])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new a,this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},u.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},u.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},u.prototype.listenerCount=m,u.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var b,g=1e7,x=3300,A=function(){function e(){this.locked=!1}return e.prototype.lock=function(){return s(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this.locked?[4,new Promise((function(e){return setTimeout(e,1)}))]:[3,2];case 1:return e.sent(),[3,0];case 2:return this.locked=!0,[2]}}))}))},e.prototype.unlock=function(){this.locked=!1},e}(),C=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=1e7);var i=e.call(this)||this;i.transport=t,i.mode=n,i.clockFrequency=r,i.connected=!1,i.sendMutex=new A,i.blockSize=i.transport.packetSize-4-1;var s=i.transport.packetSize-2-1;return i.operationCount=Math.floor(s/5),i}return i(t,e),t.prototype.bufferSourceToUint8Array=function(e,t){if(!t)return new Uint8Array([e]);var n=void 0!==t.buffer?t.buffer:t,r=new Uint8Array(n.byteLength+1);return r.set([e]),r.set(new Uint8Array(n),1),r},t.prototype.selectProtocol=function(e){return s(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return t=2===e?59196:59294,[4,this.swjSequence(new Uint8Array([255,255,255,255,255,255,255]))];case 1:return n.sent(),[4,this.swjSequence(new Uint16Array([t]))];case 2:return n.sent(),[4,this.swjSequence(new Uint8Array([255,255,255,255,255,255,255]))];case 3:return n.sent(),[4,this.swjSequence(new Uint8Array([0]))];case 4:return n.sent(),[2]}}))}))},t.prototype.send=function(e,t){return s(this,void 0,void 0,(function(){var n,r;return o(this,(function(i){switch(i.label){case 0:return n=this.bufferSourceToUint8Array(e,t),[4,this.sendMutex.lock()];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,,5,6]),[4,this.transport.write(n)];case 3:return i.sent(),[4,this.transport.read()];case 4:if((r=i.sent()).getUint8(0)!==e)throw new Error("Bad response for "+e+" -> "+r.getUint8(0));switch(e){case 3:case 8:case 9:case 10:case 17:case 18:case 19:case 29:case 23:case 24:case 26:case 21:case 22:case 4:if(0!==r.getUint8(1))throw new Error("Bad status for "+e+" -> "+r.getUint8(1))}return[2,r];case 5:return this.sendMutex.unlock(),[7];case 6:return[2]}}))}))},t.prototype.transferCommand=function(e,t){return s(this,void 0,void 0,(function(){return o(this,(function(e){throw new Error("Unsupported Operation: transferCommand")}))}))},t.prototype.clearAbort=function(e){return void 0===e&&(e=30),s(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.send(8,new Uint8Array([0,e]))];case 1:return t.sent(),[2]}}))}))},t.prototype.dapInfo=function(e){return s(this,void 0,void 0,(function(){var t,n,r,i;return o(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,4]),[4,this.send(0,new Uint8Array([e]))];case 1:if(t=s.sent(),0===(n=t.getUint8(1)))return[2,""];switch(e){case 240:case 254:case 255:case 253:if(1===n)return[2,t.getUint8(2)];if(2===n)return[2,t.getUint16(2)];if(4===n)return[2,t.getUint32(2)]}return r=Array.prototype.slice.call(new Uint8Array(t.buffer,2,n)),[2,String.fromCharCode.apply(null,r)];case 2:return i=s.sent(),[4,this.clearAbort()];case 3:throw s.sent(),i;case 4:return[2]}}))}))},t.prototype.swjSequence=function(e,t){return void 0===t&&(t=8*e.byteLength),s(this,void 0,void 0,(function(){var n,r;return o(this,(function(i){switch(i.label){case 0:n=this.bufferSourceToUint8Array(t,e),i.label=1;case 1:return i.trys.push([1,3,,5]),[4,this.send(18,n)];case 2:return i.sent(),[3,5];case 3:return r=i.sent(),[4,this.clearAbort()];case 4:throw i.sent(),r;case 5:return[2]}}))}))},t.prototype.swjClock=function(e){return s(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,4]),[4,this.send(17,new Uint8Array([255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24]))];case 1:return n.sent(),[3,4];case 2:return t=n.sent(),[4,this.clearAbort()];case 3:throw n.sent(),t;case 4:return[2]}}))}))},t.prototype.swjPins=function(e,t,n){return s(this,void 0,void 0,(function(){var r;return o(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),[4,this.send(16,new Uint8Array([e,t,255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24]))];case 1:return[2,i.sent().getUint8(1)];case 2:return r=i.sent(),[4,this.clearAbort()];case 3:throw i.sent(),r;case 4:return[2]}}))}))},t.prototype.dapDelay=function(e){return s(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,4]),[4,this.send(9,new Uint8Array([255&e,(65280&e)>>8]))];case 1:return n.sent(),[3,4];case 2:return t=n.sent(),[4,this.clearAbort()];case 3:throw n.sent(),t;case 4:return[2]}}))}))},t.prototype.configureTransfer=function(e,t,n){return s(this,void 0,void 0,(function(){var r,i,s;return o(this,(function(o){switch(o.label){case 0:r=new Uint8Array(5),(i=new DataView(r.buffer)).setUint8(0,e),i.setUint16(1,t,!0),i.setUint16(3,n,!0),o.label=1;case 1:return o.trys.push([1,3,,5]),[4,this.send(4,r)];case 2:return o.sent(),[3,5];case 3:return s=o.sent(),[4,this.clearAbort()];case 4:throw o.sent(),s;case 5:return[2]}}))}))},t.prototype.connect=function(){return s(this,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return!0===this.connected?[2]:[4,this.transport.open()];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,5,,8]),[4,this.send(17,new Uint32Array([this.clockFrequency]))];case 3:return r.sent(),[4,this.send(2,new Uint8Array([this.mode]))];case 4:if(0===(e=r.sent()).getUint8(1)||0!==this.mode&&e.getUint8(1)!==this.mode)throw new Error("Mode not enabled.");return[3,8];case 5:return t=r.sent(),[4,this.clearAbort()];case 6:return r.sent(),[4,this.transport.close()];case 7:throw r.sent(),t;case 8:return r.trys.push([8,11,,13]),[4,this.configureTransfer(0,100,0)];case 9:return r.sent(),[4,this.selectProtocol(1)];case 10:return r.sent(),[3,13];case 11:return n=r.sent(),[4,this.transport.close()];case 12:throw r.sent(),n;case 13:return this.connected=!0,[2]}}))}))},t.prototype.disconnect=function(){return s(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:if(!1===this.connected)return[2];t.label=1;case 1:return t.trys.push([1,3,,5]),[4,this.send(3)];case 2:return t.sent(),[3,5];case 3:return e=t.sent(),[4,this.clearAbort()];case 4:throw t.sent(),e;case 5:return[4,this.transport.close()];case 6:return t.sent(),this.connected=!1,[2]}}))}))},t.prototype.reconnect=function(){return s(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.disconnect()];case 1:return e.sent(),[4,new Promise((function(e){return setTimeout(e,100)}))];case 2:return e.sent(),[4,this.connect()];case 3:return e.sent(),[2]}}))}))},t.prototype.reset=function(){return s(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,4]),[4,this.send(10)];case 1:return[2,1===t.sent().getUint8(2)];case 2:return e=t.sent(),[4,this.clearAbort()];case 3:throw t.sent(),e;case 4:return[2]}}))}))},t.prototype.transfer=function(e,t,n,r){return void 0===t&&(t=2),void 0===n&&(n=0),void 0===r&&(r=0),s(this,void 0,void 0,(function(){var i,s,a,u,c,h,f;return o(this,(function(o){switch(o.label){case 0:i="number"==typeof e?[{port:e,mode:t,register:n,value:r}]:e,s=new Uint8Array(2+5*i.length),(a=new DataView(s.buffer)).setUint8(0,0),a.setUint8(1,i.length),i.forEach((function(e,t){var n=2+5*t;a.setUint8(n,e.port|e.mode|e.register),a.setUint32(n+1,e.value||0,!0)})),o.label=1;case 1:return o.trys.push([1,3,,5]),[4,this.send(5,s)];case 2:if((u=o.sent()).getUint8(1)!==i.length)throw new Error("Transfer count mismatch");if(2===(c=u.getUint8(2)))throw new Error("Transfer response WAIT");if(4===c)throw new Error("Transfer response FAULT");if(8===c)throw new Error("Transfer response PROTOCOL_ERROR");if(16===c)throw new Error("Transfer response VALUE_MISMATCH");if(7===c)throw new Error("Transfer response NO_ACK");return"number"==typeof e?[2,u.getUint32(3,!0)]:(h=4*i.length,[2,new Uint32Array(u.buffer.slice(3,3+h))]);case 3:return f=o.sent(),[4,this.clearAbort()];case 4:throw o.sent(),f;case 5:return[2]}}))}))},t.prototype.transferBlock=function(e,t,n){return s(this,void 0,void 0,(function(){var r,i,s,a,u,c,h,f;return o(this,(function(o){switch(o.label){case 0:s=4,"number"==typeof n?(r=n,i=2):(r=n.length,i=0,s+=n.byteLength),a=new Uint8Array(s),(u=new DataView(a.buffer)).setUint8(0,0),u.setUint16(1,r,!0),u.setUint8(3,e|i|t),"number"!=typeof n&&n.forEach((function(e,t){var n=4+4*t;u.setUint32(n,e,!0)})),o.label=1;case 1:return o.trys.push([1,3,,5]),[4,this.send(6,u)];case 2:if((c=o.sent()).getUint16(1,!0)!==r)throw new Error("Transfer count mismatch");if(2===(h=c.getUint8(3)))throw new Error("Transfer response WAIT");if(4===h)throw new Error("Transfer response FAULT");if(8===h)throw new Error("Transfer response PROTOCOL_ERROR");if(7===h)throw new Error("Transfer response NO_ACK");return"number"==typeof n?[2,new Uint32Array(c.buffer.slice(4,4+4*r))]:[3,5];case 3:return f=o.sent(),[4,this.clearAbort()];case 4:throw o.sent(),f;case 5:return[2,void 0]}}))}))},t}(u),U=function(e){function t(t,n,r,i){void 0===n&&(n=3),void 0===r&&(r=1e7),void 0===i&&(i=3300);var s=e.call(this)||this;return s.transport=t,s.mode=n,s.clockFrequency=r,s.outputVoltage=i,s.connected=!1,s.operationCount=0,s.blockSize=0,s.sendIndex=0,s.sendMutex=new A,s}return i(t,e),t.prototype.bufferSourceToUint8Array=function(e,t,n){if(!n)return new Uint8Array([e,0,4,255&t,t>>8&255,t>>16&255,t>>24&255]);var r=void 0!==n.buffer?n.buffer:n,i=new Uint8Array(7+r.byteLength),s=4+r.byteLength;return i.set([e,s>>8&255,255&s,255&t,t>>8&255,t>>16&255,t>>24&255]),i.set(new Uint8Array(r),7),i},t.prototype.hasPid=function(e){return 4!==this.mode||71===e||72===e||73===e||87===e||99===e},t.prototype.send=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i,s;return o(this,(function(o){switch(o.label){case 0:return this.sendIndex=this.sendIndex+1&127,n=this.bufferSourceToUint8Array(this.sendIndex,e,t),[4,this.sendMutex.lock()];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,,5,6]),[4,this.transport.write(n)];case 3:return o.sent(),[4,this.transport.read()];case 4:if(r=o.sent(),i=3,(127&r.getUint8(0))!==this.sendIndex)throw new Error("Bad response for index -> "+r.getUint8(0));switch(e){case 162:case 163:case 210:case 211:case 226:if(r.getUint8(3)!==e)throw new Error("Bad response for "+e+" -> "+r.getUint8(3));i=7;break;case 216:i=7}if(0!=(128&r.getUint8(0)))throw new Error("Bad status for "+e+" -> "+r.getUint8(0));return s=(r.getUint8(1)<<8)+r.getUint8(2)-(i-3),[2,new DataView(r.buffer,i,s)];case 5:return this.sendMutex.unlock(),[7];case 6:return[2]}}))}))},t.prototype.transferCommand=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i;return o(this,(function(s){switch(s.label){case 0:return[4,this.send(e,t)];case 1:for(n=s.sent(),r=new Uint8Array(n.byteLength),i=0;i<r.length;i++)r[i]=n.getUint8(i);return[2,r]}}))}))},t.prototype.connect=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,i,s,a,u;return o(this,(function(o){switch(o.label){case 0:return!0===this.connected?[2]:[4,this.transport.open()];case 1:o.sent(),this.sendIndex=90,o.label=2;case 2:return o.trys.push([2,20,,22]),[4,this.send(4294967295,new Uint32Array([4294967295]))];case 3:return o.sent(),4!==this.mode?[3,16]:[4,this.send(162,new Uint32Array([this.clockFrequency,2048,this.outputVoltage,0]))];case 4:return o.sent(),[4,this.send(226,new Uint32Array([0,5,0]))];case 5:return o.sent(),[4,this.send(226,new Uint32Array([5,5,0]))];case 6:return o.sent(),[4,this.send(163,new Uint32Array([0]))];case 7:return e=o.sent(),t=e.getUint8(0)+(e.getUint8(1)<<8)+(e.getUint8(2)<<16)+(e.getUint8(3)<<24)>>>0,n=t>>8&255,r=0,this.hasPid(n)?[4,this.send(163,new Uint32Array([2]))]:[3,9];case 8:return i=o.sent(),s=i.getUint8(0)+(i.getUint8(1)<<8)+(i.getUint8(2)<<16)+(i.getUint8(3)<<24)>>>0,r=(s<<16)+(65535&t),[3,10];case 9:throw r=65535&t,new Error("Unsupported device");case 10:return[4,this.send(226,new Uint32Array([6,5,0]))];case 11:return o.sent(),218!=(t>>16&255)?[3,13]:[4,this.send(226,new Uint32Array([5,0,0]))];case 12:return o.sent(),[3,14];case 13:throw new Error("Unsupported device");case 14:return[4,this.send(163,new Uint32Array([512]))];case 15:if(23130!=(a=o.sent()).getUint8(0)+(a.getUint8(1)<<8)+(a.getUint8(2)<<16)+(a.getUint8(3)<<24)>>>0)throw new Error("Unsupported device");return this.connected=!0,[2,r];case 16:return[4,this.send(162,new Uint32Array([this.clockFrequency,1024,this.outputVoltage,0]))];case 17:return o.sent(),[4,this.send(226,new Uint32Array([5,0,0]))];case 18:o.sent(),this.connected=!0,o.label=19;case 19:return[3,22];case 20:return u=o.sent(),[4,this.transport.close()];case 21:throw o.sent(),u;case 22:return[2]}}))}))},t.prototype.disconnect=function(){return s(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:if(!1===this.connected)return[2];e.label=1;case 1:return e.trys.push([1,7,,8]),4!==this.mode?[3,4]:[4,this.send(226,new Uint32Array([6,0,0]))];case 2:return e.sent(),[4,this.send(226,new Uint32Array([0,4,0]))];case 3:return e.sent(),[3,6];case 4:return[4,this.send(226,new Uint32Array([0,4,0]))];case 5:e.sent(),e.label=6;case 6:return[3,8];case 7:throw e.sent();case 8:return[4,this.transport.close()];case 9:return e.sent(),this.connected=!1,[2]}}))}))},t.prototype.reconnect=function(){return s(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.disconnect()];case 1:return e.sent(),[4,new Promise((function(e){return setTimeout(e,100)}))];case 2:return e.sent(),[4,this.connect()];case 3:return e.sent(),[2]}}))}))},t.prototype.reset=function(){return s(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:e=!1,t.label=1;case 1:return t.trys.push([1,7,,8]),4!==this.mode?[3,4]:[4,this.send(226,new Uint32Array([3,0,0]))];case 2:return t.sent(),[4,this.send(226,new Uint32Array([0,3,0]))];case 3:return t.sent(),[3,6];case 4:return[4,this.send(226,new Uint32Array([0,0,0]))];case 5:t.sent(),t.label=6;case 6:return e=!0,[3,8];case 7:throw t.sent();case 8:return[2,e]}}))}))},t.prototype.transfer=function(e,t,n,r){return s(this,void 0,void 0,(function(){return o(this,(function(e){throw new Error("Unsupported operation: transfer")}))}))},t.prototype.transferBlock=function(e,t,n){return s(this,void 0,void 0,(function(){return o(this,(function(e){throw new Error("Unsupported operation: transferBlock")}))}))},t}(u),M=/[\xc0-\xff][\x80-\xbf]*$/g,E=/[\xc0-\xff][\x80-\xbf]*/g,k=function(){function e(){}return e.prototype.decode=function(e){var t=Array.prototype.slice.call(new Uint8Array(e)),n=String.fromCodePoint.apply(void 0,t);this.partialChar&&(n=""+this.partialChar+n,this.partialChar=void 0);var r=n.match(M);if(r){var i=r[0].length;this.partialChar=n.slice(-i),n=n.slice(0,-i)}return n.replace(E,this.decoderReplacer)},e.prototype.decoderReplacer=function(e){var t=e.codePointAt(0)<<24,n=Math.clz32(~t),r=0,i=e.length,s="";if(n<5&&i>=n){for(t=t<<n>>>24+n,r=1;r<n;r+=1)t=t<<6|63&e.codePointAt(r);t<=65535?s+=String.fromCodePoint(t):t<=1114111?(t-=65536,s+=String.fromCodePoint(55296+(t>>10),56320+(1023&t))):r=0}for(;r<i;r+=1)s+="�";return s},e}(),P=new k,S=function(e){function t(n,r,i){void 0===r&&(r=0),void 0===i&&(i=1e7);var a=e.call(this,n,r,i)||this;return a.serialPolling=!1,a.serialListeners=!1,a.on("newListener",(function(e){return s(a,void 0,void 0,(function(){return o(this,(function(n){return e===t.EVENT_SERIAL_DATA&&0===this.listenerCount(e)&&(this.serialListeners=!0),[2]}))}))})),a.on("removeListener",(function(e){e===t.EVENT_SERIAL_DATA&&0===a.listenerCount(e)&&(a.serialListeners=!1)})),a}return i(t,e),t.prototype.isBufferBinary=function(e){for(var t=Array.prototype.slice.call(new Uint16Array(e,0,50)),n=String.fromCharCode.apply(null,t),r=0;r<n.length;r++){var i=n.charCodeAt(r);if(65533===i||i<=8)return!0}return!1},t.prototype.writeBuffer=function(e,n,r){return void 0===r&&(r=0),s(this,void 0,void 0,(function(){var i,s,a,u;return o(this,(function(o){switch(o.label){case 0:i=Math.min(e.byteLength,r+n),s=e.slice(r,i),(a=new Uint8Array(s.byteLength+1)).set([s.byteLength]),a.set(new Uint8Array(s),1),o.label=1;case 1:return o.trys.push([1,3,,5]),[4,this.send(140,a)];case 2:return o.sent(),[3,5];case 3:return u=o.sent(),[4,this.clearAbort()];case 4:throw o.sent(),u;case 5:return this.emit(t.EVENT_PROGRESS,r/e.byteLength),i<e.byteLength?[2,this.writeBuffer(e,n,i)]:[2]}}))}))},t.prototype.flash=function(e,n){return void 0===n&&(n=62),s(this,void 0,void 0,(function(){var r,i,s;return o(this,(function(o){switch(o.label){case 0:r=function(e){return void 0!==e.buffer}(e)?e.buffer:e,i=this.isBufferBinary(r)?0:1,o.label=1;case 1:return o.trys.push([1,6,,8]),[4,this.send(138,new Uint32Array([i]))];case 2:if(0!==o.sent().getUint8(1))throw new Error("Flash error");return[4,this.writeBuffer(r,n)];case 3:return o.sent(),this.emit(t.EVENT_PROGRESS,1),[4,this.send(139)];case 4:if(0!==o.sent().getUint8(1))throw new Error("Flash error");return[4,this.send(137)];case 5:return o.sent(),[3,8];case 6:return s=o.sent(),[4,this.clearAbort()];case 7:throw o.sent(),s;case 8:return[2]}}))}))},t.prototype.getSerialBaudrate=function(){return s(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,4]),[4,this.send(129)];case 1:return[2,t.sent().getUint32(1,!0)];case 2:return e=t.sent(),[4,this.clearAbort()];case 3:throw t.sent(),e;case 4:return[2]}}))}))},t.prototype.setSerialBaudrate=function(e){return void 0===e&&(e=9600),s(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,4]),[4,this.send(130,new Uint32Array([e]))];case 1:return n.sent(),[3,4];case 2:return t=n.sent(),[4,this.clearAbort()];case 3:throw n.sent(),t;case 4:return[2]}}))}))},t.prototype.serialWrite=function(e){return s(this,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:(t=e.split("").map((function(e){return e.charCodeAt(0)}))).unshift(t.length),r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this.send(132,new Uint8Array(t).buffer)];case 2:return r.sent(),[3,5];case 3:return n=r.sent(),[4,this.clearAbort()];case 4:throw r.sent(),n;case 5:return[2]}}))}))},t.prototype.serialRead=function(){return s(this,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,4]),[4,this.send(131)];case 1:return 0===(e=r.sent()).byteLength||131!==e.getUint8(0)||0===(t=e.getUint8(1))?[2,void 0]:[2,e.buffer.slice(2,2+t)];case 2:return n=r.sent(),[4,this.clearAbort()];case 3:throw r.sent(),n;case 4:return[2]}}))}))},t.prototype.startSerialRead=function(e,n){return void 0===e&&(e=100),void 0===n&&(n=!0),s(this,void 0,void 0,(function(){var r,i,s;return o(this,(function(o){switch(o.label){case 0:this.serialPolling=!0,o.label=1;case 1:return this.serialPolling?this.serialListeners?(r=this.connected,!1!==this.connected||!0!==n?[3,3]:[4,this.connect()]):[3,7]:[3,9];case 2:o.sent(),o.label=3;case 3:return[4,this.serialRead()];case 4:return i=o.sent(),!1!==r||!0!==n?[3,6]:[4,this.disconnect()];case 5:o.sent(),o.label=6;case 6:void 0!==i&&(s=P.decode(i),this.emit(t.EVENT_SERIAL_DATA,s)),o.label=7;case 7:return[4,new Promise((function(t){return setTimeout(t,e)}))];case 8:return o.sent(),[3,1];case 9:return[2]}}))}))},t.prototype.stopSerialRead=function(){this.serialPolling=!1},t.EVENT_PROGRESS="progress",t.EVENT_SERIAL_DATA="serial",t}(C),T=function(){function e(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=1e7),void 0===r&&(r=3300),this.mode=t;var i=function(e){return void 0!==e.open};3===this.mode||4===this.mode?this.proxy=i(e)?new U(e,this.mode,n,r):e:this.proxy=i(e)?new C(e,this.mode,n):e}return e.prototype.getProxy=function(){return this.proxy},e.prototype.waitDelay=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=100),s(this,void 0,void 0,(function(){var r;return o(this,(function(i){switch(i.label){case 0:r=!0,t>0&&setTimeout((function(){if(r)throw r=!1,new Error("Wait timed out")}),t),i.label=1;case 1:return r?[4,e()]:[3,5];case 2:return!0===i.sent()?(r=!1,[2]):n>0?[4,new Promise((function(e){return setTimeout(e,t)}))]:[3,4];case 3:i.sent(),i.label=4;case 4:return[3,1];case 5:return[2]}}))}))},e.prototype.concatTypedArray=function(e){if(1===e.length)return e[0];for(var t=0,n=0,r=e;n<r.length;n++)t+=r[n].length;for(var i=new Uint32Array(t),s=0,o=0;s<e.length;s++)i.set(e[s],o),o+=e[s].length;return i},e.prototype.readDPCommand=function(e){return[{mode:2,port:0,register:e}]},e.prototype.writeDPCommand=function(e,t){if(8===e){if(t===this.selectedAddress)return[];this.selectedAddress=t}return[{mode:0,port:0,register:e,value:t}]},e.prototype.readAPCommand=function(e){var t=4278190080&e|240&e;return this.writeDPCommand(8,t).concat({mode:2,port:1,register:e})},e.prototype.writeAPCommand=function(e,t){if(0===e){if(t===this.cswValue)return[];this.cswValue=t}var n=4278190080&e|240&e;return this.writeDPCommand(8,n).concat({mode:0,port:1,register:e,value:t})},e.prototype.readMem8Command=function(e){return this.writeAPCommand(0,587202640).concat(this.writeAPCommand(4,e)).concat(this.readAPCommand(12))},e.prototype.writeMem8Command=function(e,t){return this.writeAPCommand(0,587202640).concat(this.writeAPCommand(4,e)).concat(this.writeAPCommand(12,t))},e.prototype.readMem16Command=function(e){return this.writeAPCommand(0,587202641).concat(this.writeAPCommand(4,e)).concat(this.readAPCommand(12))},e.prototype.writeMem16Command=function(e,t){return this.writeAPCommand(0,587202641).concat(this.writeAPCommand(4,e)).concat(this.writeAPCommand(12,t))},e.prototype.readMem32Command=function(e){return this.writeAPCommand(0,587202642).concat(this.writeAPCommand(4,e)).concat(this.readAPCommand(12))},e.prototype.writeMem32Command=function(e,t){return this.writeAPCommand(0,587202642).concat(this.writeAPCommand(4,e)).concat(this.writeAPCommand(12,t))},e.prototype.transferSequence=function(e){return s(this,void 0,void 0,(function(){var t,n,r,i;return o(this,(function(s){switch(s.label){case 0:t=(t=[]).concat.apply(t,e),n=[],s.label=1;case 1:return t.length?(r=t.splice(0,this.proxy.operationCount),[4,this.proxy.transfer(r)]):[3,3];case 2:return i=s.sent(),n.push(i),[3,1];case 3:return[2,this.concatTypedArray(n)]}}))}))},e.prototype.connect=function(){return s(this,void 0,void 0,(function(){var e,t=this;return o(this,(function(n){switch(n.label){case 0:return 3!==this.mode&&4!==this.mode?[3,2]:[4,this.proxy.connect()];case 1:return[2,n.sent()];case 2:return e=-1610612736,[4,this.proxy.connect()];case 3:return n.sent(),[4,this.readDP(0)];case 4:return n.sent(),[4,this.transferSequence([this.writeDPCommand(0,4),this.writeDPCommand(8,0),this.writeDPCommand(4,1342177280)])];case 5:return n.sent(),[4,this.waitDelay((function(){return s(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.readDP(4)];case 1:return[2,(t.sent()&e)===e]}}))}))}))];case 6:n.sent(),n.label=7;case 7:return[2]}}))}))},e.prototype.disconnect=function(){return this.proxy.disconnect()},e.prototype.reconnect=function(){return s(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.disconnect()];case 1:return e.sent(),[4,new Promise((function(e){return setTimeout(e,100)}))];case 2:return e.sent(),[4,this.connect()];case 3:return e.sent(),[2]}}))}))},e.prototype.reset=function(){return this.proxy.reset()},e.prototype.readDP=function(e){return s(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:if(3!==this.mode&&4!==this.mode)return[3,1];throw new Error("Unsupported operation: readDP");case 1:return[4,this.proxy.transfer(this.readDPCommand(e))];case 2:return[2,t.sent()[0]]}}))}))},e.prototype.writeDP=function(e,t){return s(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:if(3!==this.mode&&4!==this.mode)return[3,1];throw new Error("Unsupported operation: writeDP");case 1:return[4,this.proxy.transfer(this.writeDPCommand(e,t))];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},e.prototype.readAP=function(e){return s(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:if(3!==this.mode&&4!==this.mode)return[3,1];throw new Error("Unsupported operation: readAP");case 1:return[4,this.proxy.transfer(this.readAPCommand(e))];case 2:return[2,t.sent()[0]]}}))}))},e.prototype.writeAP=function(e,t){return s(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:if(3!==this.mode&&4!==this.mode)return[3,1];throw new Error("Unsupported operation: writeAP");case 1:return[4,this.proxy.transfer(this.writeAPCommand(e,t))];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},e.prototype.readMem8=function(e){return s(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return 3!==this.mode&&4!==this.mode?[3,2]:[4,this.readMem32(-4&e)];case 1:return[2,t.sent()>>>((3&e)<<3)&255];case 2:return[4,this.proxy.transfer(this.readMem8Command(e))];case 3:return[2,t.sent()[0]>>((3&e)<<3)&255]}}))}))},e.prototype.writeMem8=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i;return o(this,(function(s){switch(s.label){case 0:return 3!==this.mode&&4!==this.mode?[3,3]:[4,this.readMem32(-4&e)];case 1:return n=s.sent(),i=((n&~(255<<(r=(3&e)<<3)))>>>0)+((255&t)<<r>>>0)>>>0,[4,this.proxy.transferCommand(188,new Uint32Array([-4&e,4,i]))];case 2:return s.sent(),[3,5];case 3:return t<<=(3&e)<<3,[4,this.proxy.transfer(this.writeMem8Command(e,t))];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))},e.prototype.readMem16=function(e){return s(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return 3!==this.mode&&4!==this.mode?[3,2]:[4,this.readMem32(-4&e)];case 1:return[2,t.sent()>>>((2&e)<<3)&65535];case 2:return[4,this.proxy.transfer(this.readMem16Command(e))];case 3:return[2,t.sent()[0]>>((2&e)<<3)&65535]}}))}))},e.prototype.writeMem16=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i;return o(this,(function(s){switch(s.label){case 0:return 3!==this.mode&&4!==this.mode?[3,3]:[4,this.readMem32(-4&e)];case 1:return n=s.sent(),i=((n&~(65535<<(r=(2&e)<<3)))>>>0)+((65535&t)<<r>>>0)>>>0,[4,this.proxy.transferCommand(188,new Uint32Array([-4&e,4,i]))];case 2:return s.sent(),[3,5];case 3:return t<<=(2&e)<<3,[4,this.proxy.transfer(this.writeMem16Command(e,t))];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))},e.prototype.readMem32=function(e){return s(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return 3!==this.mode&&4!==this.mode?[3,2]:[4,this.proxy.transferCommand(183,new Uint32Array([e,4]))];case 1:return[2,(t=n.sent())[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)>>>0];case 2:return[4,this.proxy.transfer(this.readMem32Command(e))];case 3:return[2,(t=n.sent())[0]]}}))}))},e.prototype.writeMem32=function(e,t){return s(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return 3!==this.mode&&4!==this.mode?[3,2]:[4,this.proxy.transferCommand(188,new Uint32Array([e,4,t]))];case 1:return n.sent(),[3,4];case 2:return[4,this.proxy.transfer(this.writeMem32Command(e,t))];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))},e.prototype.readMem32Sequence=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i,s;return o(this,(function(o){switch(o.label){case 0:return[4,this.transferSequence([this.writeAPCommand(0,587202642),this.writeAPCommand(4,e)])];case 1:o.sent(),n=[],r=t,o.label=2;case 2:return r>0?(i=Math.min(r,Math.floor(this.proxy.blockSize/4)),[4,this.proxy.transferBlock(1,12,i)]):[3,4];case 3:return s=o.sent(),n.push(s),r-=i,[3,2];case 4:return[2,this.concatTypedArray(n)]}}))}))},e.prototype.writeMem32Sequence=function(e,t){return s(this,void 0,void 0,(function(){var n,r;return o(this,(function(i){switch(i.label){case 0:return[4,this.transferSequence([this.writeAPCommand(0,587202642),this.writeAPCommand(4,e)])];case 1:i.sent(),n=0,i.label=2;case 2:return n<t.length?(r=t.slice(n,n+Math.floor(this.proxy.blockSize/4)),[4,this.proxy.transferBlock(1,12,r)]):[3,4];case 3:return i.sent(),n+=Math.floor(this.proxy.blockSize/4),[3,2];case 4:return[2]}}))}))},e.prototype.readBlock=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i,s,a,u,c;return o(this,(function(o){switch(o.label){case 0:if(n=[],3!==this.mode&&4!==this.mode)return[3,4];s=t,o.label=1;case 1:return s>0?(r=Math.min(s,10),[4,this.proxy.transferCommand(183,new Uint32Array([e,4*r]))]):[3,3];case 2:return i=o.sent(),n.push(new Uint32Array(i.buffer)),e+=4*r,s-=r,[3,1];case 3:return[3,7];case 4:s=t,o.label=5;case 5:return s>0?(a=1024-e%1024,u=Math.min(s,a/4),[4,this.readMem32Sequence(e,u)]):[3,7];case 6:return c=o.sent(),n.push(c),e+=4*u,s-=u,[3,5];case 7:return[2,this.concatTypedArray(n)]}}))}))},e.prototype.writeBlock=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i,s,a,u;return o(this,(function(o){switch(o.label){case 0:if(3!==this.mode&&4!==this.mode)return[3,4];i=0,o.label=1;case 1:return i<t.length?(n=Math.min(t.length-i,10),r=t.slice(i,i+n),[4,this.proxy.transferCommand(188,this.concatTypedArray([new Uint32Array([e,4*n]),r]))]):[3,3];case 2:return o.sent(),e+=4*n,i+=n,[3,1];case 3:return[3,7];case 4:i=0,o.label=5;case 5:return i<t.length?(s=1024-e%1024,a=Math.min(t.length-i,s/4),u=t.slice(i,i+a),[4,this.writeMem32Sequence(e,u)]):[3,7];case 6:return o.sent(),e+=4*a,i+=a,[3,5];case 7:return[2]}}))}))},e.prototype.readBytes=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i,s;return o(this,(function(o){switch(o.label){case 0:return n=t,i=e+t&3,(r=3&e)&&(e-=r,n+=r),i&&(n+=4-i),[4,this.readBlock(e,n/4)];case 1:return s=o.sent(),[2,new Uint8Array(s.buffer).slice(r,r+t)]}}))}))},e.prototype.writeBytes=function(e,t){return s(this,void 0,void 0,(function(){var n,r,i,s;return o(this,(function(o){switch(o.label){case 0:return n=t.length,r=0,n>0&&1&e?[4,this.writeMem8(e,t[r])]:[3,2];case 1:o.sent(),n-=1,e+=1,r+=1,o.label=2;case 2:return n>1&&2&e?[4,this.writeMem16(e,t[r]|t[r+1]<<8)]:[3,4];case 3:o.sent(),n-=2,e+=2,r+=2,o.label=4;case 4:return n>=4?(i=n-n%4,s=new Uint32Array(t.slice(r,r+i).buffer),[4,this.writeBlock(e,s)]):[3,6];case 5:o.sent(),n-=i,e+=i,r+=i,o.label=6;case 6:return n>1?[4,this.writeMem16(e,t[r]|t[r+1]<<8)]:[3,8];case 7:o.sent(),n-=2,e+=2,r+=2,o.label=8;case 8:return n>0?[4,this.writeMem8(e,t[r])]:[3,10];case 9:o.sent(),o.label=10;case 10:return[2]}}))}))},e}(),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.enableDebug=function(){return this.writeMem32(3758157296,-1604386815)},t.prototype.readCoreRegisterCommand=function(e){return this.writeMem32Command(3758157300,e).concat(this.readMem32Command(3758157296)).concat(this.readMem32Command(3758157304))},t.prototype.writeCoreRegisterCommand=function(e,t){return this.writeMem32Command(3758157304,t).concat(this.writeMem32Command(3758157300,65536|e))},t.prototype.getState=function(){return s(this,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return[4,this.readMem32(3758157296)];case 1:return e=r.sent(),t=524288&e?1:262144&e?2:131072&e?3:4,33554432&e?[4,this.readMem32(3758157296)]:[3,3];case 2:return 33554432&(n=r.sent())&&!(16777216&n)?[2,0]:[2,t];case 3:return[2,t];case 4:return[2]}}))}))},t.prototype.isHalted=function(){return s(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.readMem32(3758157296)];case 1:return[2,!!(131072&e.sent())]}}))}))},t.prototype.halt=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=0),s(this,void 0,void 0,(function(){var n=this;return o(this,(function(r){switch(r.label){case 0:return[4,this.isHalted()];case 1:return r.sent()?[2]:[4,this.writeMem32(3758157296,-1604386813)];case 2:return r.sent(),e?[2,this.waitDelay((function(){return n.isHalted()}),t)]:[2]}}))}))},t.prototype.resume=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=0),s(this,void 0,void 0,(function(){var n=this;return o(this,(function(r){switch(r.label){case 0:return[4,this.isHalted()];case 1:return r.sent()?[4,this.writeMem32(3758157104,7)]:[2];case 2:return r.sent(),[4,this.enableDebug()];case 3:return r.sent(),e?[2,this.waitDelay((function(){return s(n,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.isHalted()];case 1:return[2,!e.sent()]}}))}))}),t)]:[2]}}))}))},t.prototype.readCoreRegister=function(e){return s(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.transferSequence([this.writeMem32Command(3758157300,e),this.readMem32Command(3758157296)])];case 1:if(!(65536&t.sent()[0]))throw new Error("Register not ready");return[2,this.readMem32(3758157304)]}}))}))},t.prototype.readCoreRegisters=function(e){return s(this,void 0,void 0,(function(){var t,n,r,i,s;return o(this,(function(o){switch(o.label){case 0:t=[],n=0,r=e,o.label=1;case 1:return n<r.length?(i=r[n],[4,this.readCoreRegister(i)]):[3,4];case 2:s=o.sent(),t.push(s),o.label=3;case 3:return n++,[3,1];case 4:return[2,t]}}))}))},t.prototype.writeCoreRegister=function(e,t){return s(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,this.transferSequence([this.writeMem32Command(3758157304,t),this.writeMem32Command(3758157300,65536|e),this.readMem32Command(3758157296)])];case 1:if(!(65536&n.sent()[0]))throw new Error("Register not ready");return[2]}}))}))},t.prototype.execute=function(e,t,n,r,i){void 0===i&&(i=e+1);for(var a=[],u=5;u<arguments.length;u++)a[u-5]=arguments[u];return s(this,void 0,void 0,(function(){var s,u,c,h=this;return o(this,(function(o){switch(o.label){case 0:for(48682!==t[t.length-1]&&((s=new Uint32Array(t.length+1)).set(t),s.set([48682],t.length-1),t=s),u=[this.writeCoreRegisterCommand(13,n),this.writeCoreRegisterCommand(15,r),this.writeCoreRegisterCommand(14,i)],c=0;c<Math.min(a.length,12);c++)u.push(this.writeCoreRegisterCommand(c,a[c]));return u.push(this.writeCoreRegisterCommand(16,16777216)),[4,this.halt()];case 1:return o.sent(),[4,this.transferSequence(u)];case 2:return o.sent(),[4,this.writeBlock(e,t)];case 3:return o.sent(),[4,this.resume(!1)];case 4:return o.sent(),[4,this.waitDelay((function(){return h.isHalted()}),1e4)];case 5:return o.sent(),[2]}}))}))},t.prototype.softReset=function(){return s(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.writeMem32(3758157308,0)];case 1:return e.sent(),[2,this.writeMem32(3758157068,100270084)]}}))}))},t.prototype.setTargetResetState=function(e){return void 0===e&&(e=!0),s(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,this.writeMem32(3758157308,1)];case 1:return n.sent(),!0!==e?[3,3]:[4,this.reset()];case 2:return n.sent(),[3,6];case 3:return[4,this.readMem32(3758157068)];case 4:return t=n.sent(),[4,this.writeMem32(3758157068,100270084|t)];case 5:n.sent(),n.label=6;case 6:return[4,this.writeMem32(3758157308,0)];case 7:return n.sent(),[2]}}))}))},t}(T),R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getState=function(){return s(this,void 0,void 0,(function(){return o(this,(function(e){throw new Error("Unsupported operation: getState")}))}))},t.prototype.isHalted=function(){return s(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,this.getProxy().transferCommand(216)];case 1:return[2,0==(e=t.sent())[4]+(e[5]<<8)+(e[6]<<16)+(e[7]<<24)>>>0]}}))}))},t.prototype.halt=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=0),s(this,void 0,void 0,(function(){var n=this;return o(this,(function(r){switch(r.label){case 0:return[4,this.isHalted()];case 1:return r.sent()?[2]:[4,this.getProxy().transferCommand(210)];case 2:return r.sent(),e?[2,this.waitDelay((function(){return n.isHalted()}),t)]:[2]}}))}))},t.prototype.resume=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=0),s(this,void 0,void 0,(function(){var n=this;return o(this,(function(r){switch(r.label){case 0:return[4,this.isHalted()];case 1:return r.sent()?[4,this.getProxy().transferCommand(211)]:[2];case 2:return r.sent(),e?[2,this.waitDelay((function(){return s(n,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.isHalted()];case 1:return[2,!e.sent()]}}))}))}),t)]:[2]}}))}))},t.prototype.readCoreRegister=function(e){return s(this,void 0,void 0,(function(){return o(this,(function(e){throw new Error("Unsupported operation: readCoreRegister")}))}))},t.prototype.readCoreRegisters=function(e){return s(this,void 0,void 0,(function(){return o(this,(function(e){throw new Error("Unsupported operation: readCoreRegisters")}))}))},t.prototype.writeCoreRegister=function(e,t){return s(this,void 0,void 0,(function(){return o(this,(function(e){throw new Error("Unsupported operation: writeCoreRegister")}))}))},t.prototype.execute=function(e,t,n,r,i){void 0===i&&(i=e+1);for(var a=[],u=5;u<arguments.length;u++)a[u-5]=arguments[u];return s(this,void 0,void 0,(function(){return o(this,(function(e){throw new Error("Unsupported operation: execute")}))}))},t.prototype.softReset=function(){return s(this,void 0,void 0,(function(){return o(this,(function(e){throw new Error("Unsupported operation: softReset")}))}))},t.prototype.setTargetResetState=function(e){return s(this,void 0,void 0,(function(){return o(this,(function(e){throw new Error("Unsupported operation: setTargetResetState")}))}))},t}(T),L=function(e){function t(t,n,r){return void 0===n&&(n=1e6),void 0===r&&(r=3300),e.call(this,t,3,n,r)||this}return i(t,e),t}(R),O=function(e){function t(t,n,r){return void 0===n&&(n=1),void 0===r&&(r=3300),e.call(this,t,4,n,r)||this}return i(t,e),t}(R);!function(e){e[e.ENABLE=1]="ENABLE",e[e.KEY=2]="KEY"}(b||(b={}));var D=function(){function e(e){this.device=e,this.os="browser",this.packetSize=64}return e.prototype.open=function(){return s(this,void 0,void 0,(function(){return o(this,(function(e){return[2]}))}))},e.prototype.close=function(){return s(this,void 0,void 0,(function(){return o(this,(function(e){return this.device.close(),[2]}))}))},e.prototype.read=function(){return s(this,void 0,void 0,(function(){var e,t,n=this;return o(this,(function(r){switch(r.label){case 0:return[4,new Promise((function(e,t){n.device.read((function(n,r){if(n)return t(new Error(n));e(r)}))}))];case 1:return e=r.sent(),t=new Uint8Array(e).buffer,[2,new DataView(t)]}}))}))},e.prototype.write=function(e){return s(this,void 0,void 0,(function(){var t,n;return o(this,(function(r){for(t=function(e){return void 0!==e.buffer}(e)?e.buffer:e,n=Array.prototype.slice.call(new Uint8Array(t));n.length<this.packetSize;)n.push(0);if("win32"===this.os&&n.unshift(0),this.device.write(n)!==n.length)throw new Error("Incorrect bytecount written");return[2]}))}))},e}(),N=function(){function e(e,t,n,r){void 0===t&&(t=255),void 0===n&&(n=1),void 0===r&&(r=!1),this.device=e,this.interfaceClass=t,this.configuration=n,this.alwaysControlTransfer=r,this.packetSize=64}return e.prototype.bufferToDataView=function(e){var t=new Uint8Array(e).buffer;return new DataView(t)},e.prototype.isView=function(e){return void 0!==e.buffer},e.prototype.bufferSourceToBuffer=function(e){var t=this.isView(e)?e.buffer:e;return Buffer.from(t)},e.prototype.extendBuffer=function(e,t){var n=this.isView(e)?e.buffer:e,r=Math.min(n.byteLength,t),i=new Uint8Array(r);return i.set(new Uint8Array(n)),i},e.prototype.open=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,i,s,a=this;return o(this,(function(o){switch(o.label){case 0:return this.device.open(),[4,new Promise((function(e,t){a.device.setConfiguration(a.configuration,(function(n){n?t(new Error(n)):e()}))}))];case 1:if(o.sent(),!(e=this.device.interfaces.filter((function(e){return e.descriptor.bInterfaceClass===a.interfaceClass}))).length)throw new Error("No valid interfaces found.");if((t=e.find((function(e){return e.endpoints.length>0})))||(t=e[0]),this.interfaceNumber=t.interfaceNumber,!this.alwaysControlTransfer){for(n=t.endpoints,this.endpointIn=void 0,this.endpointOut=void 0,r=0,i=n;r<i.length;r++)"in"!==(s=i[r]).direction||this.endpointIn?"out"!==s.direction||this.endpointOut||(this.endpointOut=s):this.endpointIn=s;if(this.endpointIn||this.endpointOut)try{t.claim()}catch(e){this.endpointIn=void 0,this.endpointOut=void 0}}return[2]}}))}))},e.prototype.close=function(){return s(this,void 0,void 0,(function(){return o(this,(function(e){return this.device.close(),[2]}))}))},e.prototype.read=function(){return s(this,void 0,void 0,(function(){var e,t=this;return o(this,(function(n){switch(n.label){case 0:if(void 0===this.interfaceNumber)throw new Error("No device opened");return[4,new Promise((function(e,n){t.endpointIn?t.endpointIn.transfer(t.packetSize,(function(t,r){t?n(t):e(r)})):t.device.controlTransfer(161,1,256,t.interfaceNumber,t.packetSize,(function(t,r){t?n(t):r?e(r):n(new Error("No buffer read"))}))}))];case 1:return e=n.sent(),[2,this.bufferToDataView(e)]}}))}))},e.prototype.write=function(e){return s(this,void 0,void 0,(function(){var t,n,r=this;return o(this,(function(i){switch(i.label){case 0:if(void 0===this.interfaceNumber)throw new Error("No device opened");return t=this.extendBuffer(e,this.packetSize),n=this.bufferSourceToBuffer(t),[4,new Promise((function(e,t){r.endpointOut?r.endpointOut.transfer(n,(function(n){if(n)return t(n);e()})):r.device.controlTransfer(33,9,512,r.interfaceNumber,n,(function(n){if(n)return t(n);e()}))}))];case 1:return i.sent(),[2]}}))}))},e}(),I=function(){function e(e,t,n,r,i,s){void 0===t&&(t=255),void 0===n&&(n=3),void 0===r&&(r=1),void 0===i&&(i=!1),void 0===s&&(s=0),this.device=e,this.interfaceClass=t,this.interfaceSubclass=n,this.configuration=r,this.alwaysControlTransfer=i,this.channelNumber=s,this.packetSize=64}return e.prototype.extendBuffer=function(e,t){var n=void 0!==e.buffer?e.buffer:e,r=Math.min(n.byteLength,t),i=new Uint8Array(r);return i.set(new Uint8Array(n)),i},e.prototype.open=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,i,s,a=this;return o(this,(function(o){switch(o.label){case 0:return[4,this.device.open()];case 1:return o.sent(),[4,this.device.selectConfiguration(this.configuration)];case 2:if(o.sent(),!(e=this.device.configuration.interfaces.filter((function(e){return e.alternates[0].interfaceClass===a.interfaceClass&&e.alternates[0].interfaceSubclass===a.interfaceSubclass}))).length)throw new Error("No valid interfaces found.");if((t=e.find((function(e){return e.alternates[0].endpoints.length>0})))||(t=e[0]),this.interfaceNumber=t.interfaceNumber,!this.alwaysControlTransfer)for(n=t.alternates[0].endpoints,this.endpointIn=void 0,this.endpointOut=void 0,r=0,i=n;r<i.length;r++)"in"!==(s=i[r]).direction||this.endpointIn?"out"!==s.direction||this.endpointOut||(this.endpointOut=s):this.endpointIn=s;return[2,this.device.claimInterface(this.interfaceNumber)]}}))}))},e.prototype.close=function(){return this.device.close()},e.prototype.read=function(){return s(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:if(void 0===this.interfaceNumber)throw new Error("No device opened");return this.endpointIn?[4,this.device.transferIn(this.endpointIn.endpointNumber,this.packetSize)]:[3,2];case 1:return e=t.sent(),[3,4];case 2:return[4,this.device.controlTransferIn({requestType:"class",recipient:"interface",request:1,value:256+this.channelNumber,index:this.interfaceNumber},this.packetSize)];case 3:e=t.sent(),t.label=4;case 4:return[2,e.data]}}))}))},e.prototype.write=function(e){return s(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:if(void 0===this.interfaceNumber)throw new Error("No device opened");return t=this.extendBuffer(e,this.packetSize),this.endpointOut?[4,this.device.transferOut(this.endpointOut.endpointNumber,t)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.device.controlTransferOut({requestType:"class",recipient:"interface",request:9,value:512+this.channelNumber,index:this.interfaceNumber},t)];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))},e}()},4224:function(e,t,n){n.r(t),n.d(t,{default:function(){return r}});var r=function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.u8Key_Simulation_En_addr=t,this.u8Key_Simulation_Press_addr=n,this.i8ProcessSigLvl_addr=r,this.u8MaxScKeyNum_addr=i}},9867:function(e,t,n){n.r(t),n.d(t,{default:function(){return r}});var r=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.touchKeyIndex=t,this.preTouchKeyIndex=n}},2508:function(e,t,n){n(5666),n(7042),n(3710),n(1539),n(9714),n(8783),n(6992),n(3948),n(1058),n(9554),n(4747),n(8674),n(2564);function r(e,t,n,r,i,s,o){try{var a=e[s](o),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,s){var o=e.apply(t,n);function a(e){r(o,i,s,a,u,"next",e)}function u(e){r(o,i,s,a,u,"throw",e)}a(void 0)}))}}var s,o,a,u,c,h,f,d,l,p,v=n(3920),w=(n(4224).default,n(9867).default),m="PROCESSOR_TYPE_ARM_CM0",y="PROCESSOR_TYPE_ARM_CM4",b="PROCESSOR_TYPE_ARM_CM23",g="MODE_EMULATOR",x=!1,A=!1,C="MODE_CREATE_VIEW",U=0,M=[],E=536871057,k=536871163,P=536871164,S=function(){var e=i(regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C!=g){e.next=52;break}if(x){e.next=49;break}if(t=new v.WebUSB(u,255,3,1,!0,1),null==u){e.next=45;break}return e.prev=5,s=new v.NuMicroCM(t,1e6,3300),e.next=9,s.connect();case 9:return e.next=11,_();case 11:return o=e.sent,e.next=14,R(o);case 14:return a=e.sent,e.next=17,L(a).then((function(e){var t="0x"+("00000000"+e.toString(16).toUpperCase()).slice(-8);postMessage({action:"getPIDValue",data:t})}));case 17:console.log("Cortex-M is connected."),x=!0,A=!0,e.next=25;break;case 22:e.prev=22,e.t0=e.catch(5),console.log(e.t0);case 25:if(A){e.next=40;break}return e.prev=26,s=new v.NuMicro51(t,1,3300),e.next=30,s.connect();case 30:n=e.sent,r="0x"+("00000000"+n.toString(16).toUpperCase()).slice(-8),postMessage({action:"getPIDValue",data:r}),console.log("8051 is connected."),x=!0,e.next=40;break;case 37:e.prev=37,e.t1=e.catch(26),console.log(e.t1);case 40:if(x){e.next=43;break}return e.next=43,T();case 43:e.next=47;break;case 45:return e.next=47,T();case 47:e.next=50;break;case 49:return e.delegateYield(regeneratorRuntime.mark((function e(){var t,n,r,i,o,u,c,v,w,m,y,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],n=[],!A){e.next=54;break}return e.prev=3,e.next=6,s.resume();case 6:if(null==p||null!=h){e.next=10;break}return e.next=9,s.readMem8(p);case 9:h=e.sent;case 10:if(0==M.length){e.next=40;break}return r=M.shift(),i=r.touchKeyIndex,o=r.preTouchKeyIndex,e.next=16,s.readMem8(f);case 16:if(1==e.sent){e.next=27;break}return e.next=20,s.writeMem8(f,1);case 20:u=0;case 21:if(!(u<h)){e.next=27;break}return e.next=24,s.writeMem8(parseInt(l,10)+u,0);case 24:u++,e.next=21;break;case 27:if(null==i){e.next=35;break}return e.next=30,s.writeMem8(d,1);case 30:return c=parseInt(l,10)+i,e.next=33,s.writeMem8(c,60);case 33:e.next=40;break;case 35:return e.next=37,s.writeMem8(d,0);case 37:return v=parseInt(l,10)+o,e.next=40,s.writeMem8(v,0);case 40:return e.next=42,s.readBlock(O(a,0),12);case 42:(t=e.sent).forEach((function(e){var t=("00000000"+e.toString(16)).slice(-8);n.push(t[6]+t[7]),n.push(t[4]+t[5]),n.push(t[2]+t[3]),n.push(t[0]+t[1])})),postMessage({action:"getRegisterValue",data:n}),e.next=52;break;case 47:return e.prev=47,e.t0=e.catch(3),console.log(e.t0),e.next=52,T();case 52:e.next=108;break;case 54:return e.prev=54,w=[0,0],m=[0,0],y=[0,0],e.next=60,s.resume();case 60:return e.next=62,s.halt();case 62:return e.next=64,s.readMem8(E);case 64:return w[0]=e.sent,e.next=67,s.readMem8(P);case 67:return y[0]=e.sent,e.next=70,s.writeMem8(P,y[0]);case 70:return e.next=72,s.readMem8(k);case 72:return m[0]=e.sent,m[0]=m[0]-1,e.next=76,s.writeMem8(k,m[0]);case 76:return w[1]=3,e.next=79,s.writeMem8(E,w[1]);case 79:b=0;case 80:if(!(b<32)){e.next=91;break}return m[1]=b,e.next=84,s.writeMem8(k,m[1]);case 84:return e.next=86,s.readMem8(P);case 86:y[1]=e.sent,t.push(y[1]);case 88:b++,e.next=80;break;case 91:return e.next=93,s.writeMem8(E,w[0]);case 93:return e.next=95,s.writeMem8(k,m[0]);case 95:return e.next=97,s.resume();case 97:return t.forEach((function(e){var t=("00"+e.toString(16)).slice(-2);n.push(t[0]+t[1])})),postMessage({action:"getRegisterValue",data:n}),e.next=101,new Promise((function(e){return setTimeout(e,U>200?0:200-U)}));case 101:e.next=108;break;case 103:return e.prev=103,e.t1=e.catch(54),console.log(e.t1),e.next=108,T();case 108:return e.next=110,new Promise((function(e){return setTimeout(e,U)}));case 110:case"end":return e.stop()}}),e,null,[[3,47],[54,103]])}))(),"t2",50);case 50:e.next=60;break;case 52:if(null==f){e.next=59;break}return e.next=55,s.writeMem8(f,0);case 55:return e.next=57,s.readMem8(f);case 57:i=e.sent,console.log("Simulation_En_value="+i);case 59:return e.abrupt("break",62);case 60:e.next=0;break;case 62:case"end":return e.stop()}}),e,null,[[5,22],[26,37]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=i(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.writeMem8(f,0);case 2:return e.next=4,s.readMem8(f);case 4:return t=e.sent,console.log("Simulation_En_value="+t),s=void 0,o=void 0,a=void 0,x=!1,A=!1,postMessage({action:"disconnect"}),e.next=14,new Promise((function(e){return setTimeout(e,3e3)})).catch((function(e){throw e}));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=i(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.readMem32(3758157056).then((function(e){t=(("0x"+e.toString(16)&65520)>>4).toString(16).toUpperCase()}));case 2:e.t0=t,e.next="C20"===e.t0?5:"C24"===e.t0?6:"D20"===e.t0?7:8;break;case 5:return e.abrupt("return",m);case 6:return e.abrupt("return",y);case 7:return e.abrupt("return",b);case 8:return e.abrupt("return","PROCESSOR_TYPE_UNDEFINED");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=i(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===m?3:e.t0===y?6:e.t0===b?8:17;break;case 3:n=1342177280;try{"20171011"==s.readMem32(1073758204).toString(16)&&(n=1073741824)}catch(e){}return e.abrupt("break",18);case 6:return n=1073741824,e.abrupt("break",18);case 8:return n=1073741824,e.prev=9,e.next=12,s.readMem32(1342193660).then((function(e){"20201130"==e.toString(16)&&(n=1342177280)}));case 12:e.next=16;break;case 14:e.prev=14,e.t1=e.catch(9);case 16:return e.abrupt("break",18);case 17:throw"getBaseAddress() Unsupported processor type!";case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.readMem32(D(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function O(e,t){return e+765984+4*t}function D(e){return e+0}addEventListener("message",function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data.action,r=t.data.data,"setModeSwitch"!=n){e.next=11;break}if(console.log("worker on setModeSwitch"),(C=r)!=g){e.next=9;break}return e.next=8,navigator.usb.getDevices().then((function(e){console.log("Total devices: ".concat(e.length)),e.forEach((function(e){u=e}))})).catch((function(e){console.log(e),u=void 0}));case 8:S();case 9:e.next=12;break;case 11:"setRefreshTime"==n?(console.log("worker on setRefreshTime"),U=r):"TKOn"==n?(console.log("worker on TKOn, index = ".concat(r)),r<h?c!=r&&(c=r,M.push(new w(c,void 0))):console.warn("the index of touch key is incorrect!")):"TKOff"==n?(console.log("worker on TKOff, index = ".concat(r)),null!=c&&(M.push(new w(void 0,c)),c=void 0)):"setTKAddr"==n&&(console.log("worker on setTKAddr()"),f=r.u8Key_Simulation_En_addr,d=r.u8Key_Simulation_Press_addr,l=r.i8ProcessSigLvl_addr,p=r.u8MaxScKeyNum_addr);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.x=function(){var e=n.O(void 0,[861],(function(){return n(2508)}));return e=n.O(e)},function(){var e=[];n.O=function(t,r,i,s){if(!r){var o=1/0;for(c=0;c<e.length;c++){r=e[c][0],i=e[c][1],s=e[c][2];for(var a=!0,u=0;u<r.length;u++)(!1&s||o>=s)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(a=!1,s<o&&(o=s));a&&(e.splice(c--,1),t=i())}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[r,i,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"static/js/"+e+".js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../../"}(),function(){var e={508:1};n.f.i=function(t,r){e[t]||importScripts(n.p+n.u(t))};var t=self.webpackChunkNuTool_LCDView=self.webpackChunkNuTool_LCDView||[],r=t.push.bind(t);t.push=function(t){var i=t[0],s=t[1],o=t[2];for(var a in s)n.o(s,a)&&(n.m[a]=s[a]);for(o&&o(n);i.length;)e[i.pop()]=1;r(t)}}(),function(){var e=n.x;n.x=function(){return n.e(861).then(e)}}();n.x()}();